/* Base Background Styles */
.dynamic-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
    transition: background 1s ease-in-out;
}

/* Time of Day Gradients - Darker tones for flag visibility */
.bg-dawn {
    background: linear-gradient(to bottom, #1a2a4a 0%, #8b4a3a 100%);
}

.bg-morning {
    background: linear-gradient(to bottom, #1c3655 0%, #2a4a6b 100%);
}

.bg-noon {
    background: linear-gradient(to bottom, #1a3d6b 0%, #234a7a 100%);
}

.bg-afternoon {
    background: linear-gradient(to bottom, #2a3a5c 0%, #1e3a4a 100%);
}

.bg-evening {
    background: linear-gradient(to bottom, #2a1a3c 0%, #6b3a2a 100%);
}

.bg-night {
    background: linear-gradient(to bottom, #0a1520 0%, #152535 50%, #1a3545 100%);
}

.bg-midnight {
    background: linear-gradient(to bottom, #050508 0%, #0a0815 100%);
}

.bg-day {
    background: linear-gradient(to bottom, #1c3655 0%, #2a4a6b 100%);
}

/* ═══════════════════════════════════════════════════════════════════════════
   SUNNY WEATHER - Glowing Sun with Rays
   ═══════════════════════════════════════════════════════════════════════════ */

.sun-container {
    position: absolute;
    top: 5%;
    right: 10%;
    width: 150px;
    height: 150px;
    z-index: 4;
    pointer-events: none;
}

.sun {
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%,
            #fffde7 0%,
            #fff59d 20%,
            #ffeb3b 40%,
            #ffc107 60%,
            #ff9800 80%,
            transparent 100%);
    box-shadow:
        0 0 60px 30px rgba(255, 235, 59, 0.9),
        0 0 100px 60px rgba(255, 193, 7, 0.6),
        0 0 140px 90px rgba(255, 152, 0, 0.4),
        0 0 200px 120px rgba(255, 87, 34, 0.2);
    animation: sun-breathe 4s ease-in-out infinite;
}

/* Sun corona/halo effect */
.sun::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center,
            rgba(255, 255, 255, 0.3) 0%,
            rgba(255, 235, 59, 0.2) 20%,
            transparent 50%);
    animation: sun-corona 6s ease-in-out infinite alternate;
}

/* Sun rays */
.sun::after {
    content: '';
    position: absolute;
    top: -100%;
    left: -100%;
    width: 300%;
    height: 300%;
    background:
        conic-gradient(from 0deg at 50% 50%,
            transparent 0deg,
            rgba(255, 235, 59, 0.15) 5deg,
            transparent 10deg,
            transparent 20deg,
            rgba(255, 235, 59, 0.1) 25deg,
            transparent 30deg,
            transparent 40deg,
            rgba(255, 235, 59, 0.12) 45deg,
            transparent 50deg);
    animation: sun-rays-rotate 30s linear infinite;
}

@keyframes sun-breathe {

    0%,
    100% {
        transform: scale(1);
        filter: brightness(1);
    }

    50% {
        transform: scale(1.08);
        filter: brightness(1.1);
    }
}

@keyframes sun-corona {
    0% {
        transform: scale(1);
        opacity: 0.8;
    }

    100% {
        transform: scale(1.15);
        opacity: 0.5;
    }
}

@keyframes sun-rays-rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   RAIN - Realistic Falling Drops
   ═══════════════════════════════════════════════════════════════════════════ */

.rain {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    overflow: hidden;
}

/* Main rain layer - streaks */
.rain::before {
    content: '';
    position: absolute;
    top: -100%;
    left: 0;
    width: 100%;
    height: 200%;
    background-image:
        repeating-linear-gradient(transparent,
            transparent 3px,
            rgba(174, 194, 224, 0) 3px,
            rgba(174, 194, 224, 0.4) 6px,
            rgba(174, 194, 224, 0.7) 12px,
            rgba(174, 194, 224, 0.4) 18px,
            rgba(174, 194, 224, 0) 21px,
            transparent 21px,
            transparent 100px),
        repeating-linear-gradient(90deg,
            transparent,
            transparent 50px,
            rgba(150, 180, 210, 0.1) 50px,
            rgba(150, 180, 210, 0.1) 51px,
            transparent 51px,
            transparent 100px);
    background-size: 100px 100px, 100px 100%;
    animation: rain-fall 0.4s linear infinite;
    opacity: 0.8;
}

/* Secondary rain layer - different speed */
.rain::after {
    content: '';
    position: absolute;
    top: -100%;
    left: 0;
    width: 100%;
    height: 200%;
    background-image:
        repeating-linear-gradient(transparent,
            transparent 5px,
            rgba(200, 220, 240, 0) 5px,
            rgba(200, 220, 240, 0.3) 10px,
            rgba(200, 220, 240, 0.5) 20px,
            rgba(200, 220, 240, 0.3) 30px,
            rgba(200, 220, 240, 0) 35px,
            transparent 35px,
            transparent 150px);
    background-size: 150px 150px;
    animation: rain-fall-slow 0.6s linear infinite;
    opacity: 0.6;
}

@keyframes rain-fall {
    from {
        transform: translateY(0);
    }

    to {
        transform: translateY(100px);
    }
}

@keyframes rain-fall-slow {
    from {
        transform: translateY(0);
    }

    to {
        transform: translateY(150px);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SNOW - Gentle Falling Flakes
   ═══════════════════════════════════════════════════════════════════════════ */

.snow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    overflow: hidden;
}

/* Large snowflakes */
.snow::before {
    content: '';
    position: absolute;
    top: -50%;
    left: 0;
    width: 200%;
    height: 200%;
    background-image:
        radial-gradient(6px 6px at 10% 10%, rgba(255, 255, 255, 0.95) 50%, transparent 50%),
        radial-gradient(5px 5px at 30% 25%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(7px 7px at 50% 15%, rgba(255, 255, 255, 0.95) 50%, transparent 50%),
        radial-gradient(4px 4px at 70% 30%, rgba(255, 255, 255, 0.85) 50%, transparent 50%),
        radial-gradient(6px 6px at 90% 20%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(5px 5px at 20% 45%, rgba(255, 255, 255, 0.9) 50%, transparent 50%),
        radial-gradient(6px 6px at 40% 55%, rgba(255, 255, 255, 0.95) 50%, transparent 50%),
        radial-gradient(4px 4px at 60% 40%, rgba(255, 255, 255, 0.85) 50%, transparent 50%),
        radial-gradient(7px 7px at 80% 50%, rgba(255, 255, 255, 0.9) 50%, transparent 50%);
    background-size: 250px 250px;
    animation: snow-fall 8s linear infinite, snow-sway 4s ease-in-out infinite;
}

/* Small snowflakes */
.snow::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -10%;
    width: 220%;
    height: 200%;
    background-image:
        radial-gradient(3px 3px at 5% 5%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
        radial-gradient(2px 2px at 15% 20%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
        radial-gradient(3px 3px at 25% 10%, rgba(255, 255, 255, 0.75) 50%, transparent 50%),
        radial-gradient(2px 2px at 35% 25%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
        radial-gradient(3px 3px at 45% 15%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
        radial-gradient(2px 2px at 55% 30%, rgba(255, 255, 255, 0.65) 50%, transparent 50%),
        radial-gradient(3px 3px at 65% 8%, rgba(255, 255, 255, 0.75) 50%, transparent 50%),
        radial-gradient(2px 2px at 75% 22%, rgba(255, 255, 255, 0.7) 50%, transparent 50%),
        radial-gradient(3px 3px at 85% 18%, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
        radial-gradient(2px 2px at 95% 28%, rgba(255, 255, 255, 0.65) 50%, transparent 50%);
    background-size: 180px 180px;
    animation: snow-fall-slow 12s linear infinite, snow-sway-reverse 6s ease-in-out infinite;
}

@keyframes snow-fall {
    from {
        transform: translateY(0) translateX(0);
    }

    to {
        transform: translateY(250px) translateX(20px);
    }
}

@keyframes snow-fall-slow {
    from {
        transform: translateY(0) translateX(0);
    }

    to {
        transform: translateY(180px) translateX(-15px);
    }
}

@keyframes snow-sway {

    0%,
    100% {
        transform: translateY(0) translateX(0);
    }

    25% {
        transform: translateY(62px) translateX(15px);
    }

    50% {
        transform: translateY(125px) translateX(0);
    }

    75% {
        transform: translateY(187px) translateX(-15px);
    }
}

@keyframes snow-sway-reverse {

    0%,
    100% {
        transform: translateY(0) translateX(0);
    }

    25% {
        transform: translateY(45px) translateX(-10px);
    }

    50% {
        transform: translateY(90px) translateX(0);
    }

    75% {
        transform: translateY(135px) translateX(10px);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   STORM - Lightning & Heavy Rain
   ═══════════════════════════════════════════════════════════════════════════ */

.lightning {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
    pointer-events: none;
    background:
        radial-gradient(ellipse at 30% 20%, rgba(255, 255, 255, 0.8) 0%, transparent 40%),
        radial-gradient(ellipse at 70% 30%, rgba(200, 220, 255, 0.6) 0%, transparent 35%);
    opacity: 0;
    animation: lightning-flash 4s ease-out infinite;
}

@keyframes lightning-flash {

    0%,
    89%,
    100% {
        opacity: 0;
    }

    90% {
        opacity: 1;
    }

    91% {
        opacity: 0.3;
    }

    92% {
        opacity: 0.9;
    }

    93% {
        opacity: 0.1;
    }

    94% {
        opacity: 0;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   FOG - Misty Atmosphere
   ═══════════════════════════════════════════════════════════════════════════ */

.fog {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    background:
        linear-gradient(to bottom,
            rgba(180, 190, 200, 0) 0%,
            rgba(180, 190, 200, 0.2) 30%,
            rgba(180, 190, 200, 0.5) 60%,
            rgba(180, 190, 200, 0.6) 100%);
}

.fog::before {
    content: '';
    position: absolute;
    top: 0;
    left: -50%;
    width: 200%;
    height: 100%;
    background:
        radial-gradient(ellipse 80% 50% at 20% 70%, rgba(200, 210, 220, 0.5), transparent),
        radial-gradient(ellipse 60% 40% at 60% 80%, rgba(190, 200, 210, 0.4), transparent),
        radial-gradient(ellipse 70% 45% at 80% 60%, rgba(200, 210, 220, 0.45), transparent);
    animation: fog-drift 25s ease-in-out infinite alternate;
}

.fog::after {
    content: '';
    position: absolute;
    top: 0;
    left: -30%;
    width: 160%;
    height: 100%;
    background:
        radial-gradient(ellipse 90% 60% at 40% 75%, rgba(210, 220, 230, 0.35), transparent),
        radial-gradient(ellipse 50% 35% at 70% 65%, rgba(200, 210, 220, 0.3), transparent);
    animation: fog-drift-reverse 30s ease-in-out infinite alternate;
}

@keyframes fog-drift {
    0% {
        transform: translateX(0);
        opacity: 0.6;
    }

    100% {
        transform: translateX(100px);
        opacity: 0.8;
    }
}

@keyframes fog-drift-reverse {
    0% {
        transform: translateX(0);
        opacity: 0.7;
    }

    100% {
        transform: translateX(-80px);
        opacity: 0.5;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   CLOUDY OVERLAY
   ═══════════════════════════════════════════════════════════════════════════ */

.clouds-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
        radial-gradient(ellipse at 20% 20%, rgba(80, 90, 100, 0.4), transparent 50%),
        radial-gradient(ellipse at 80% 30%, rgba(70, 80, 90, 0.35), transparent 45%),
        radial-gradient(ellipse at 50% 10%, rgba(90, 100, 110, 0.3), transparent 40%),
        linear-gradient(to bottom, rgba(40, 50, 60, 0.3) 0%, rgba(30, 40, 50, 0.15) 100%);
    z-index: 1;
    animation: clouds-move 60s ease-in-out infinite alternate;
}

@keyframes clouds-move {
    0% {
        background-position: 0 0, 0 0, 0 0, 0 0;
    }

    100% {
        background-position: 50px 10px, -30px 5px, 20px -10px, 0 0;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   STARS - Night Sky
   ═══════════════════════════════════════════════════════════════════════════ */

.stars-container {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.stars {
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(2px 2px at 5% 15%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(2px 2px at 12% 45%, rgba(255, 255, 255, 0.95), transparent),
        radial-gradient(3px 3px at 22% 75%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(2px 2px at 35% 25%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(2px 2px at 48% 55%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(3px 3px at 58% 85%, rgba(255, 255, 255, 0.95), transparent),
        radial-gradient(2px 2px at 72% 35%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(2px 2px at 85% 65%, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(3px 3px at 92% 20%, rgba(255, 255, 255, 1), transparent),
        radial-gradient(1px 1px at 8% 30%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 18% 60%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 28% 10%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 42% 80%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 55% 40%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 68% 70%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(1px 1px at 78% 15%, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 88% 50%, rgba(255, 255, 255, 0.6), transparent);
    background-size: 400px 400px;
    animation: twinkle 4s ease-in-out infinite alternate;
    opacity: 0.9;
}

@keyframes twinkle {
    0% {
        opacity: 0.9;
    }

    100% {
        opacity: 0.6;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   BASE CLOUDS (Day)
   ═══════════════════════════════════════════════════════════════════════════ */

.clouds-base {
    position: absolute;
    top: 5%;
    left: -20%;
    width: 140%;
    height: 300px;
    opacity: 0.35;
    animation: move-clouds 60s linear infinite;
}

.clouds-base::before,
.clouds-base::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.9);
    filter: blur(25px);
}

.clouds-base::before {
    width: 200px;
    height: 80px;
    top: 50px;
    left: 10%;
    box-shadow:
        150px -20px 0 -10px rgba(255, 255, 255, 0.85),
        300px 10px 0 -10px rgba(255, 255, 255, 0.8),
        500px -30px 0 -10px rgba(255, 255, 255, 0.85),
        700px 0 0 -10px rgba(255, 255, 255, 0.8);
}

.clouds-base::after {
    width: 180px;
    height: 70px;
    top: 150px;
    left: 20%;
    opacity: 0.7;
    box-shadow:
        200px 20px 0 -10px rgba(255, 255, 255, 0.75),
        400px -10px 0 -10px rgba(255, 255, 255, 0.7),
        600px 10px 0 -10px rgba(255, 255, 255, 0.75);
}

@keyframes move-clouds {
    from {
        transform: translateX(0);
    }

    to {
        transform: translateX(100px);
    }
}

/* ═══════════════════════════════════════════════════════════════════════════
   WEATHER OVERLAY CONTAINER
   ═══════════════════════════════════════════════════════════════════════════ */

.weather-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
}

/* ═══════════════════════════════════════════════════════════════════════════
   VIDEO BACKGROUNDS (if available)
   ═══════════════════════════════════════════════════════════════════════════ */

.weather-video-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    overflow: hidden;
}

.weather-video {
    position: absolute;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    transform: translate(-50%, -50%);
    object-fit: cover;
    opacity: 1;
    /* Fully visible for blending */
    mix-blend-mode: screen;
    /* Blend black background away */
}

.weather-video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom,
            rgba(0, 0, 0, 0.3) 0%,
            rgba(0, 0, 0, 0.15) 50%,
            rgba(0, 0, 0, 0.3) 100%);
    z-index: 2;
}